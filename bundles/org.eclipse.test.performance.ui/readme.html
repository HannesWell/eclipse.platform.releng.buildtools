<title>org.eclipse.test.performance.ui readme</title> 
<p>README<br>
</p>
<p>** work in progress **</p>
<p>last updated: Feb. 21, 2005<br>
</p>
<p><b>Introduction</b><br>
  <br>
  This readme describes how to create performance charts and tables similar to 
  those available on the eclipse platform download pages using the stand-alone 
  java program <b>org.eclipse.test.performance.ui.Main</b> stored in this project. 
  Although the program is currently geared to generating results for the Eclipse 
  Platform builds, the program may work for you given the following conditions:</p>
<ul>
  <li>The &quot;eclipse.perf.config&quot; system property used to run tests use 
    three keys config, build and jvm 
    <ul>
      <li>for example, "eclipse.perf.config=config=relengbuildwin2;build=I20050219-1500;jvm=sun1.4.2_06". 
        <br>
        <br>
      </li>
    </ul>
  </li>
  <li>Values for the "build" key begin with either an 'I' or 'N' with the exception 
    of the reference builds (for example, 3.0). 
    <ul>
      <li>The line graphs plot the reference build, all builds starting with 'I' 
        and the seven 'N' builds preceding the current build.<br>
        <br>
      </li>
    </ul>
  </li>
  <li>Scenario names all contain a prefix &quot;&lt;component&gt;.test&quot;
<ul>
      <li>For example, it is assumed that the scenario &quot;org.eclipse.help.tests.performance.appserver.TestAppserver#testAppserverCycle()&quot; 
        belongs to the &quot;org.eclipse.help&quot; component. </li>
      <li>Unique scenario prefixes are derived from all the scenarios in the database 
        to group results.</li>
    </ul>
  </li>
</ul>
<p><br>
  For purposes of this document, the term &quot;<a href="http://download.eclipse.org/downloads/drops/S-3.1M5a-200502191500/performance/performance.php">fingerprint</a>&quot; 
  will be used to refer to a bar graph which represents the performance summary 
  at a global or component level for each test configuration.<br>
  <br>
  The term &quot;<a href="http://download.eclipse.org/downloads/drops/S-3.1M5a-200502191500/performance/org.eclipse.ui.php#sst">scenario 
  status table</a>&quot; will be used to refer to a table of scenarios with green 
  checks and red x indicators below a component fingerprint. This table gives 
  an overall view of the status for all scenarios for a component for all configurations.<br>
</p>
<p>The term &quot;<a href="http://download.eclipse.org/downloads/drops/S-3.1M5a-200502191500/performance/linux/org.eclipse.ui.tests.performance.OpenCloseViewTest.showView_org.eclipse.ui.tests.perf_basic().html">scenario 
  results</a>&quot; will be used to refer to a web page comparing current performance 
  measurements to the baseline measurements for one scenario on one configuration. 
  The web page displays the raw data for the current and baseline measurements 
  and also displays line graphs showing the measured values over the course of 
  builds between the current and baseline.</p>
<p><br>
  <b>Setup</b></p>
<ul>
  <li>Cloudscape or Derby java libraries</li>
  <li>SWT java libraries</li>
  <li>org.eclipse.releng.basebuilder plug-ins</li>
  <li>Cloudscape or Derby database, local or network with performance data<br>
    <br>
  </li>
  <li>System variables settings for eclipse.perf.dbloc and java.library.path:<br>
    eclipse.perf.dbloc=&lt;database location, i.e. net://trelenggtk.ottawa.ibm.com&gt;<br>
    java.library.path=&lt;path to directory containing swt native libraries related 
    to SWT java libraries on classpath&gt; 
    <ul>
      <li>i.e. org.eclipse.releng.basebuilder\plugins\org.eclipse.swt.win32_3.1.0\os\win32\x86&gt; 
        <br>
        <br>
      </li>
    </ul>
  </li>
  <li>if running on linux, motif, x86, the LD_LIBRARY_PATH environment variable 
    should be set to the directory containing the motif libraries libXm.so, libXm.so.2, 
    libXm.so.2.1 (available in root of org.eclipse.releng.basebuilder).<br>
    <br>
  </li>
</ul>
<p><b>Running the program</b></p>
<p>open a terminal, cd to org.eclipse.releng.basebuilder and execute the following 
  command: <br>
  <b><br>
  java -xmx 256m -cp &lt;classpath&gt; org.eclipse.test.performance.ui.Main -Declipse.perf.dbloc=&lt;database 
  location&gt; -Djava.library.path=&lt;path to swt native libraries&gt; -baseline 
  &lt;baseline build id&gt; -current &lt;current build id&gt; -config &lt;comma-separated 
  list of configs&gt; -jvm &lt;jvm name&gt; -output &lt;output dir&gt; [-config.properties 
  &lt;properties&gt;] [highlight.latest &lt;buildid patterns&gt;] [scenario.pattern 
  &lt;scenario prefix patterns&gt;] [-fingerprints][-scenarioresults]</b></p>
<br>
Parameter descriptions: 
<blockquote>
  <p>-baseline &lt;baseline build id. A previous value used in the &quot;build&quot; 
    key in the eclipse.perf.config system property.&gt; <br>
    -current &lt;current build id. The value used in the &quot;build&quot; key 
    in the eclipse.perf.config system property.&gt;<br>
    -config &lt;a comma-separated list of names of configurations for which to 
    produce results. The values used should be the same as values specified for 
    the &quot;config&quot; key in the eclipse.perf.config system property.&gt;<br>
    -jvm &lt;jvm description. The value used in the &quot;jvm&quot; key in the 
    eclipse.perf.config system property.&gt;<br>
    -output &lt;path to an output directory for fingerprints and scenarios for 
    each configuration specified in -config parameter. Fingerprint gifs and html 
    files are generated in the directory specified, configuration specific subdirectories 
    are created to store scenario results and line graphs.&gt;</p>
  </blockquote>
<p><br>
  Optional arguments:</p>
<blockquote> 
  <p>-config.properties &lt;semi-colon separated list of: config, alternate config 
    description, url to the directory containing the scenario result files for 
    the config, [output directory for config]&gt;<br>
    -highlight.latest &lt;Comma-separated list of build Id prefixes, excluding 
    'I' and 'N', which are used to add and highlight the most recent matching 
    buildId on line graphs.&quot;&gt;<br>
    -scenario.pattern &lt;Scenario prefix pattern used to query performance results 
    database. Can be used to generate results for a single component or subset 
    of scenarios.&gt;<br>
    -fingerprints or -scenarioresults &lt;use one or the other to generate fingerprints 
    or scenario results only. Not specifying either will execute both.&gt;</p>
</blockquote>
<p>&nbsp;</p>
